import os

SYSTEM_PROMPT = "–¢—ã ‚Äî —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫–µ –ë–µ–ª–∞—Ä—É—Å–∏.\
–¢–µ–±–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å —Å–∞–π—Ç–∞ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤.\
–¢–∞–∫ –∂–µ —Å—Ç–∞—Ä–∞–π—Å—è –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –¥–æ–±—Ä–æ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–º –∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–º –≤–∏–¥–µ.\
–í –æ—Ç–≤–µ—Ç–∞—Ö –Ω–µ —Å—Å—ã–ª–∞–π—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ –±–∞–Ω–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã. –†–∞—Å—Å–∫–∞–∑—ã–≤–∞–π —Ç–æ–ª—å–∫–æ –ø—Ä–æ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫.\
"


# LLAMA2 CONFIG
LLAMA_REPO_NAME= "IlyaGusev/saiga2_7b_ggml"
LLAMA_MODEL_NAME =  "ggml-model-q4_1.bin"
SYSTEM_TOKEN = 1788
USER_TOKEN = 1404
BOT_TOKEN = 9225
LINEBREAK_TOKEN = 13
ROLE_TOKENS = {"user": USER_TOKEN, "bot": BOT_TOKEN, "system": SYSTEM_TOKEN}
MAX_CONTEXT = 4096
LAST_N_TOKENS = 1024
MAX_CONTEXT_WINDOW = 3072
MAX_NEW_TOKENS = 1500
TOP_K = 30
TOP_P = 0.9
TEMP = 0.1
REPEAT_PENALTY = 1.15


# RETRIEVER CONFIG (CHROMA DB)
EMBEDDER_NAME = "intfloat/multilingual-e5-base"
CHROMA_DIR = "./chroma_data"
CHROMA_COLLECTION_NAME = 'texts'
MMR_TOP_K = 30
MMR_LAMBDA = 0.9
TF_TOP_K = 2
SIMILARITY_TOP_K = 3


# BOT SETTINGS
TOKEN = os.environ['CHAT_BOT_TOKEN']
ADMIN_ID = 323147495
MAX_QUEUE = 3


WELCOME_MESSAGE = """
–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é!üëã
–Ø - –¥–µ–º–æ —á–∞—Ç-–±–æ—Ç –æ—Ç –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫–∞ –ë–µ–ª–∞—Ä—É—Å–∏.
–Ø –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º –∏ —É—Å–ª—É–≥–∞–º –±–∞–Ω–∫–∞.
–í—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —è –±–µ—Ä—É –∏–∑ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ - —Å–∞–π—Ç–∞ alfabank.by.
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–µ: /info
–ó–∞–¥–∞–π—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å!
"""

INFO_MESSAGE = """
–î–µ–º–æ —á–∞—Ç-–±–æ—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å —Å–∞–π—Ç–∞ alfabank.by.
–í –±–æ—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –æ–∫–æ–ª–æ 1000 —Å—Ç—Ä–∞–Ω–∏—Ü —Å —Å–∞–π—Ç–∞.
–ë–æ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ Retrieval QA –Ω–∞ –±–∞–∑–µ –¥–æ–æ–±—É—á–µ–Ω–æ–π –ø–æ–¥ —Ä—É—Å—Å–∫–æ–π —è–∑—ã–∫ LLAMA2-7B, –∫–≤–∞–Ω—Ç–∏–∑–æ–≤–∞–Ω–Ω–æ–π –≤ 4bit.
–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∞–º–∞—è –ø—Ä–æ—Å—Ç–∞—è –º–æ–¥–µ–ª—å –∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–∞–º—è—Ç—å –≤ –¥–∏–∞–ª–æ–≥–µ, —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—Å–µ–º—É —Å–µ—Ä–≤–∏—Å—É –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º –Ω–∞ MacBook Pro M1.
–ü–æ—ç—Ç–æ–º—É –æ—Ç–≤–µ—Ç—ã –±–æ—Ç–∞ –º–æ–≥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –∏ –±—ã—Ç—å –Ω–µ –æ—á–µ–Ω—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏.

–ü—Ä–∏ —É–ª—É—á—à–µ–Ω–∏ –∂–µ–ª–µ–∑–∞ –º–æ–∂–Ω–æ:
- –∑–∞–ø—É—Å—Ç–∏—Ç—å –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —É–º–Ω—É—é –º–æ–¥–µ–ª—å.
- –≤ —Ä–∞–∑—ã —É—Å–∫–æ—Ä–∏—Ç—å –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞.
- –¥–æ–±–∞–≤–∏—Ç—å –ø–∞–º—è—Ç—å –≤ –¥–∏–∞–ª–æ–≥.
- –∑–∞–≥—Ä—É–∑–∏—Ç—å –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –∏–∑ —ã—ã—Ü—Ü–≤–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
- –¥–æ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –¥–∏–∞–ª–æ–≥–∞—Ö –∏–∑ —á–∞—Ç–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: –õ—è—Ö–Ω–æ–≤–∏—á –ö–∏—Ä–∏–ª–ª (@Klhnvich)  - —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫ –ë–µ–ª–∞—Ä—É—Å—å.
–í–æ–ø—Ä–æ—Å—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –ø–æ–∂–µ–ª–∞–Ω–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!
"""

HELP_MESSAGE = """
–ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å, –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –µ–≥–æ –≤ —á–∞—Ç!
–ù–∞–ø—Ä–∏–º–µ—Ä:
–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Ä—Ç–∞ 100 –¥–Ω–µ–π?
–ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –∫–∞—Ä—Ç—ã?
–ö–∞–∫–∏–µ —É—Å–ª–æ–≤–∏—è –Ω–∞ –≤–∑—è—Ç–∏–µ –≤ –ª–∏–∑–∏–Ω–≥ –∞–≤—Ç–æ?
"""


